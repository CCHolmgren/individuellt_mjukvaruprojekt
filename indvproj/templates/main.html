{% extends "layout.html" %}
{% from "_formhelpers.html" import render_post, render_collection_dense with context %}
{% block body %}
    <div>
        {% if g.user.is_active() %}
            <div>
                <ul>
                    <li>New <a href={{ url_for('PostView:new_post') }}>post</a></li>
                    <li>Create a new <a href={{ url_for('CollectionView:new_collection') }}>collection</a>?</li>
                    <li>... a new <a href={{ url_for('CategoryView:new_category') }}>category</a>?</li>
                </ul>
            </div>
            <div>
                Moderator in:
                {% for moderator in g.user.moderator %}
                    <a href={{ url_for('CategoryView:get',categoryname=moderator.categoryname) }}>{{ moderator.categorytitle }}</a>
                {% endfor %}
            </div>
            <p>Your userpage:
                <a href={{ url_for('UserView:get', username=g.user.username) }}>{{ g.user.username }}</a>
            </p>
        {% endif %}
        {% for post in posts %}
            {{ render_post(post) }}
        {% endfor %}
    </div>
{% endblock %}